<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Bootstrap Confidence Interval for Standardized Solution in lavaan â€¢ semhelpinghands</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Bootstrap Confidence Interval for Standardized Solution in lavaan">
<meta property="og:description" content="semhelpinghands">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">semhelpinghands</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.1.9001</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../articles/semhelpinghands.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/standardizedSolution_boot_ci.html">Bootstrap Confidence Interval for Standardized Solution in lavaan</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/sfcheung/semhelpinghands/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="standardizedSolution_boot_ci_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Bootstrap Confidence Interval for Standardized Solution in lavaan</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/sfcheung/semhelpinghands/blob/HEAD/vignettes/standardizedSolution_boot_ci.Rmd" class="external-link"><code>vignettes/standardizedSolution_boot_ci.Rmd</code></a></small>
      <div class="hidden name"><code>standardizedSolution_boot_ci.Rmd</code></div>

    </div>

    
    
<div class="section level2">
<h2 id="what-standardizedsolution_boot_ci-does">What <code>standardizedSolution_boot_ci()</code> Does<a class="anchor" aria-label="anchor" href="#what-standardizedsolution_boot_ci-does"></a>
</h2>
<p>In <code>lavaan</code>, if bootstrapping is requested, the standard errors and confidence intervals in the standardized solutions are computed by delta method using the variance-covariance matrix of the bootstrap estimates. The intervals are symmetric about the point estimates and are not the usual bootstrap percentile confidence intervals users expect when bootstrapping is conducted.</p>
<p><code><a href="../reference/standardizedSolution_boot_ci.html">standardizedSolution_boot_ci()</a></code> accepts an <code>lavaan::lavaan-class</code> object fitted with <code>se = "bootstrap"</code> and form the percentile confidence intervals based on the bootstrap estimates stored in the object.</p>
</div>
<div class="section level2">
<h2 id="data-and-model">Data and Model<a class="anchor" aria-label="anchor" href="#data-and-model"></a>
</h2>
<p>An mediation model example adapted from the official <code>lavaan</code> website is used (<a href="https://lavaan.ugent.be/tutorial/mediation.html" class="external-link uri">https://lavaan.ugent.be/tutorial/mediation.html</a>).</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://lavaan.ugent.be" class="external-link">lavaan</a></span><span class="op">)</span>
<span class="co">#&gt; This is lavaan 0.6-11</span>
<span class="co">#&gt; lavaan is FREE software! Please report any bugs.</span>
<span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">1234</span><span class="op">)</span>
<span class="va">n</span> <span class="op">&lt;-</span> <span class="fl">100</span>
<span class="va">X</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="va">n</span><span class="op">)</span> <span class="op">-</span> <span class="fl">.5</span>
<span class="va">M</span> <span class="op">&lt;-</span> <span class="fl">0.20</span><span class="op">*</span><span class="va">X</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="va">n</span><span class="op">)</span>
<span class="va">Y</span> <span class="op">&lt;-</span> <span class="fl">0.17</span><span class="op">*</span><span class="va">M</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="va">n</span><span class="op">)</span>
<span class="va">Data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>X <span class="op">=</span> <span class="va">X</span>, Y <span class="op">=</span> <span class="va">Y</span>, M <span class="op">=</span> <span class="va">M</span><span class="op">)</span>
<span class="va">model</span> <span class="op">&lt;-</span> <span class="st">' # direct effect
             Y ~ c*X
           # mediator
             M ~ a*X
             Y ~ b*M
           # indirect effect (a*b)
             ab := a*b
           # total effect
             total := c + (a*b)
         '</span></code></pre></div>
<p>This model is fitted with <code>se = "bootstrap"</code>:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">fit</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/lavaan/man/sem.html" class="external-link">sem</a></span><span class="op">(</span><span class="va">model</span>,
           data <span class="op">=</span> <span class="va">Data</span>,
           se <span class="op">=</span> <span class="st">"bootstrap"</span>,
           bootstrap <span class="op">=</span> <span class="fl">5000</span>,
           parallel <span class="op">=</span><span class="st">"snow"</span>, ncpus <span class="op">=</span> <span class="fl">8</span><span class="op">)</span></code></pre></div>
<p>This is the standardized solution with delta-method confidence intervals:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/pkg/lavaan/man/standardizedSolution.html" class="external-link">standardizedSolution</a></span><span class="op">(</span><span class="va">fit</span><span class="op">)</span>
<span class="co">#&gt;     lhs op     rhs label est.std    se       z pvalue ci.lower ci.upper</span>
<span class="co">#&gt; 1     Y  ~       X     c   0.018 0.095   0.188  0.851   -0.169    0.204</span>
<span class="co">#&gt; 2     M  ~       X     a   0.046 0.100   0.458  0.647   -0.150    0.241</span>
<span class="co">#&gt; 3     Y  ~       M     b   0.102 0.102   1.001  0.317   -0.098    0.302</span>
<span class="co">#&gt; 4     Y ~~       Y         0.989 0.021  48.060  0.000    0.949    1.029</span>
<span class="co">#&gt; 5     M ~~       M         0.998 0.009 109.983  0.000    0.980    1.016</span>
<span class="co">#&gt; 6     X ~~       X         1.000 0.000      NA     NA    1.000    1.000</span>
<span class="co">#&gt; 7    ab :=     a*b    ab   0.005 0.010   0.448  0.654   -0.016    0.025</span>
<span class="co">#&gt; 8 total := c+(a*b) total   0.023 0.095   0.238  0.812   -0.163    0.209</span></code></pre></div>
</div>
<div class="section level2">
<h2 id="form-bootstrap-percentile-cis-for-standardized-solution">Form Bootstrap Percentile CIs for Standardized Solution<a class="anchor" aria-label="anchor" href="#form-bootstrap-percentile-cis-for-standardized-solution"></a>
</h2>
<p>To form bootstrap percentile confidence intervals for the standardized solution, simply use <code><a href="../reference/standardizedSolution_boot_ci.html">standardizedSolution_boot_ci()</a></code> instead of <code><a href="https://rdrr.io/pkg/lavaan/man/standardizedSolution.html" class="external-link">lavaan::standardizedSolution()</a></code>:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://sfcheung.github.io/semhelpinghands/" class="external-link">semhelpinghands</a></span><span class="op">)</span>
<span class="va">ci_boot</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/standardizedSolution_boot_ci.html">standardizedSolution_boot_ci</a></span><span class="op">(</span><span class="va">fit</span><span class="op">)</span>
<span class="co">#&gt; Warning in if (lavaan::parameterTable(object)$op %in% "==") {: the condition has length &gt; 1 and only the first element will be used</span>
<span class="va">ci_boot</span>
<span class="co">#&gt;     lhs op     rhs label est.std    se       z pvalue ci.lower ci.upper boot.ci.lower boot.ci.upper</span>
<span class="co">#&gt; 1     Y  ~       X     c   0.018 0.095   0.188  0.851   -0.169    0.204        -0.165         0.207</span>
<span class="co">#&gt; 2     M  ~       X     a   0.046 0.100   0.458  0.647   -0.150    0.241        -0.147         0.243</span>
<span class="co">#&gt; 3     Y  ~       M     b   0.102 0.102   1.001  0.317   -0.098    0.302        -0.095         0.304</span>
<span class="co">#&gt; 4     Y ~~       Y         0.989 0.021  48.060  0.000    0.949    1.029         0.895         0.999</span>
<span class="co">#&gt; 5     M ~~       M         0.998 0.009 109.983  0.000    0.980    1.016         0.940         1.000</span>
<span class="co">#&gt; 6     X ~~       X         1.000 0.000      NA     NA    1.000    1.000         1.000         1.000</span>
<span class="co">#&gt; 7    ab :=     a*b    ab   0.005 0.010   0.448  0.654   -0.016    0.025        -0.028         0.039</span>
<span class="co">#&gt; 8 total := c+(a*b) total   0.023 0.095   0.238  0.812   -0.163    0.209        -0.166         0.210</span></code></pre></div>
<p>The bootstrap percentile confidence intervals are appended to the right of the original output of <code><a href="https://rdrr.io/pkg/lavaan/man/standardizedSolution.html" class="external-link">lavaan::standardizedSolution()</a></code>.</p>
</div>
<div class="section level2">
<h2 id="note">Note<a class="anchor" aria-label="anchor" href="#note"></a>
</h2>
<p>The function <code><a href="../reference/standardizedSolution_boot_ci.html">standardizedSolution_boot_ci()</a></code> takes some time to run because it retrieves the estimates of the unstandardized solution in each bootstrap sample and computes the estimates in the standardized solution. Therefore, if 5,000 bootstrap samples are requested, this process is repeated 5,000 times. Nevertheless, it is still much faster than fitting the model 5,000 times again.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Shu Fai Cheung.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.2.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
